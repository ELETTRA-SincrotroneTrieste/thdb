<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>THdb: DbProxy Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">THdb<span id="projectnumber">&#160;1.x</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classDbProxy-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">DbProxy Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The database proxy. Connects to the database and executes queries in a separate thread. You better not use it directly, instead look at <a class="el" href="classTHdbBase.html" title="THdbBase is the base class to interact with or derive from to connect to a MySql database and execute...">THdbBase</a> and <a class="el" href="classDbQueryInterface.html" title="Derive from this class to perform threaded queries on a database.">DbQueryInterface</a> classes.  
 <a href="classDbProxy.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dbproxy_8h_source.html">dbproxy.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DbProxy:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classDbProxy.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="signals" name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a4f28994d865a79a7a5596e5620d9fd84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a4f28994d865a79a7a5596e5620d9fd84">exitLoop</a> ()</td></tr>
<tr class="separator:a4f28994d865a79a7a5596e5620d9fd84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ada2ac7aaf21fa9d1709992ed05818"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a19ada2ac7aaf21fa9d1709992ed05818">processRequest</a> ()</td></tr>
<tr class="separator:a19ada2ac7aaf21fa9d1709992ed05818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f2f0e45663e6dff532d299a189f72d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a86f2f0e45663e6dff532d299a189f72d">error</a> (const QString &amp;origin, const QString &amp;message)</td></tr>
<tr class="separator:a86f2f0e45663e6dff532d299a189f72d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22fa29a9e26915f3ed5e047dab8bff86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a22fa29a9e26915f3ed5e047dab8bff86">databaseOpen</a> ()</td></tr>
<tr class="separator:a22fa29a9e26915f3ed5e047dab8bff86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af494547b4c4fc704a8deb3522e50d022"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#af494547b4c4fc704a8deb3522e50d022">querySent</a> ()</td></tr>
<tr class="memdesc:af494547b4c4fc704a8deb3522e50d022"><td class="mdescLeft">&#160;</td><td class="mdescRight">emitted just right before calling exec() method  <a href="classDbProxy.html#af494547b4c4fc704a8deb3522e50d022">More...</a><br /></td></tr>
<tr class="separator:af494547b4c4fc704a8deb3522e50d022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e8c59abb8a5fa28d19ce731c1ed615"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#aa0e8c59abb8a5fa28d19ce731c1ed615">queryExecuted</a> (bool result)</td></tr>
<tr class="memdesc:aa0e8c59abb8a5fa28d19ce731c1ed615"><td class="mdescLeft">&#160;</td><td class="mdescRight">emitted right after exec() returns. The result is containtd into result variable.  <a href="classDbProxy.html#aa0e8c59abb8a5fa28d19ce731c1ed615">More...</a><br /></td></tr>
<tr class="separator:aa0e8c59abb8a5fa28d19ce731c1ed615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac206b8500fcbdca35e973ec0dd0374bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#ac206b8500fcbdca35e973ec0dd0374bd">databaseError</a> (const QString &amp;origin, const QString &amp;<a class="el" href="classDbProxy.html#a8b31f98a8ea7ff93a00df9a2ced8ac1c">lastErrorMessage</a>)</td></tr>
<tr class="memdesc:ac206b8500fcbdca35e973ec0dd0374bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">this signal is emitted if exec() returns false.  <a href="classDbProxy.html#ac206b8500fcbdca35e973ec0dd0374bd">More...</a><br /></td></tr>
<tr class="separator:ac206b8500fcbdca35e973ec0dd0374bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cbc20a0efed2adac0bb00eb4c80e86b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a9cbc20a0efed2adac0bb00eb4c80e86b">connectionInfo</a> (const QString &amp;info)</td></tr>
<tr class="memdesc:a9cbc20a0efed2adac0bb00eb4c80e86b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This signal is emitted whenever something changes in the connection status.  <a href="classDbProxy.html#a9cbc20a0efed2adac0bb00eb4c80e86b">More...</a><br /></td></tr>
<tr class="separator:a9cbc20a0efed2adac0bb00eb4c80e86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a90f579f1f5d952e97549214c88a45324"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a90f579f1f5d952e97549214c88a45324">error</a> () const</td></tr>
<tr class="memdesc:a90f579f1f5d952e97549214c88a45324"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if an error happened during last operation on the database.  <a href="classDbProxy.html#a90f579f1f5d952e97549214c88a45324">More...</a><br /></td></tr>
<tr class="separator:a90f579f1f5d952e97549214c88a45324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b31f98a8ea7ff93a00df9a2ced8ac1c"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a8b31f98a8ea7ff93a00df9a2ced8ac1c">lastErrorMessage</a> () const</td></tr>
<tr class="memdesc:a8b31f98a8ea7ff93a00df9a2ced8ac1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the last <b>connection</b> error message.  <a href="classDbProxy.html#a8b31f98a8ea7ff93a00df9a2ced8ac1c">More...</a><br /></td></tr>
<tr class="separator:a8b31f98a8ea7ff93a00df9a2ced8ac1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd10a3cc7e26fb8d8242b60b1d6524c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a7bd10a3cc7e26fb8d8242b60b1d6524c">addQueryEvent</a> (DbQueryEvent *dbqe)</td></tr>
<tr class="memdesc:a7bd10a3cc7e26fb8d8242b60b1d6524c"><td class="mdescLeft">&#160;</td><td class="mdescRight">adds a DbQueryEvent on the event queue and then asks the thread to process the queue.  <a href="classDbProxy.html#a7bd10a3cc7e26fb8d8242b60b1d6524c">More...</a><br /></td></tr>
<tr class="separator:a7bd10a3cc7e26fb8d8242b60b1d6524c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197fc3ee4550d94bc34b44ccdc1bb78d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a197fc3ee4550d94bc34b44ccdc1bb78d">setDatabase</a> (const <a class="el" href="classDbConnectionParams.html">DbConnectionParams</a> &amp;dbconPar)</td></tr>
<tr class="memdesc:a197fc3ee4550d94bc34b44ccdc1bb78d"><td class="mdescLeft">&#160;</td><td class="mdescRight">switches to the database specified by the argument  <a href="classDbProxy.html#a197fc3ee4550d94bc34b44ccdc1bb78d">More...</a><br /></td></tr>
<tr class="separator:a197fc3ee4550d94bc34b44ccdc1bb78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccfee7e8d0f0cb0b2a6634c9118c4f0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a3ccfee7e8d0f0cb0b2a6634c9118c4f0">databaseIsOpen</a> () const</td></tr>
<tr class="memdesc:a3ccfee7e8d0f0cb0b2a6634c9118c4f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if the database is open.  <a href="classDbProxy.html#a3ccfee7e8d0f0cb0b2a6634c9118c4f0">More...</a><br /></td></tr>
<tr class="separator:a3ccfee7e8d0f0cb0b2a6634c9118c4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad16325da75d08d1fc9ad84343dc8912c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classDbProxy.html">DbProxy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#ad16325da75d08d1fc9ad84343dc8912c">instance</a> (QObject *parent=NULL)</td></tr>
<tr class="memdesc:ad16325da75d08d1fc9ad84343dc8912c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the instance associated to the Database Thread.  <a href="classDbProxy.html#ad16325da75d08d1fc9ad84343dc8912c">More...</a><br /></td></tr>
<tr class="separator:ad16325da75d08d1fc9ad84343dc8912c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8cbacc9c6becbbed642b2d34beffe793"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a8cbacc9c6becbbed642b2d34beffe793">DbProxy</a> (QObject *parent)</td></tr>
<tr class="memdesc:a8cbacc9c6becbbed642b2d34beffe793"><td class="mdescLeft">&#160;</td><td class="mdescRight">the constructor of the Database thread, called proxy.  <a href="classDbProxy.html#a8cbacc9c6becbbed642b2d34beffe793">More...</a><br /></td></tr>
<tr class="separator:a8cbacc9c6becbbed642b2d34beffe793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7fc41db78cb8f6c3d0ff8e78d4b5c82"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#ab7fc41db78cb8f6c3d0ff8e78d4b5c82">~DbProxy</a> ()</td></tr>
<tr class="separator:ab7fc41db78cb8f6c3d0ff8e78d4b5c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d268989261b2654e20cefaed682282"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#ac2d268989261b2654e20cefaed682282">run</a> ()</td></tr>
<tr class="memdesc:ac2d268989261b2654e20cefaed682282"><td class="mdescLeft">&#160;</td><td class="mdescRight">the run method of the Database thread.  <a href="classDbProxy.html#ac2d268989261b2654e20cefaed682282">More...</a><br /></td></tr>
<tr class="separator:ac2d268989261b2654e20cefaed682282"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a056aa37ebbb742df6794941daafc62ea"><td class="memItemLeft" align="right" valign="top">QSqlDatabase&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a056aa37ebbb742df6794941daafc62ea">m_sqlDb</a></td></tr>
<tr class="separator:a056aa37ebbb742df6794941daafc62ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9214d7500cd6034d32e23dffa86a99b4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a9214d7500cd6034d32e23dffa86a99b4">m_dbError</a></td></tr>
<tr class="separator:a9214d7500cd6034d32e23dffa86a99b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e83f79b9ee2b0dcf7563e73936eff36"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a5e83f79b9ee2b0dcf7563e73936eff36">m_lastErrorMessage</a></td></tr>
<tr class="separator:a5e83f79b9ee2b0dcf7563e73936eff36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb1b57f98827f43ccd7dbd0dbd0cbfe"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a2cb1b57f98827f43ccd7dbd0dbd0cbfe">m_host</a></td></tr>
<tr class="separator:a2cb1b57f98827f43ccd7dbd0dbd0cbfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a84077145cc1232c6fc3039552ae196"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a5a84077145cc1232c6fc3039552ae196">m_user</a></td></tr>
<tr class="separator:a5a84077145cc1232c6fc3039552ae196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada0b68e4560704cc71081bff6a5adc5f"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#ada0b68e4560704cc71081bff6a5adc5f">m_pass</a></td></tr>
<tr class="separator:ada0b68e4560704cc71081bff6a5adc5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa22129209a0eeaf26f758c45dc78e8"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#a8aa22129209a0eeaf26f758c45dc78e8">m_schema</a></td></tr>
<tr class="separator:a8aa22129209a0eeaf26f758c45dc78e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdb769b7d86f6e15d32c14265b70691c"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDbProxy.html#abdb769b7d86f6e15d32c14265b70691c">m_port</a></td></tr>
<tr class="separator:abdb769b7d86f6e15d32c14265b70691c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Use this class only if you need very specific behaviour. Otherwise, look at <a class="el" href="classTHdbBase.html" title="THdbBase is the base class to interact with or derive from to connect to a MySql database and execute...">THdbBase</a> and <a class="el" href="classDbQueryInterface.html" title="Derive from this class to perform threaded queries on a database.">DbQueryInterface</a> classes, which are the essential classes to build a database connection and submit any type of query. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8cbacc9c6becbbed642b2d34beffe793" name="a8cbacc9c6becbbed642b2d34beffe793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cbacc9c6becbbed642b2d34beffe793">&#9670;&nbsp;</a></span>DbProxy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DbProxy::DbProxy </td>
          <td>(</td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Starts the thread after connecting the QCoreApplication::aboutToQuit signal to the appAboutToQuit slot. </p>

</div>
</div>
<a id="ab7fc41db78cb8f6c3d0ff8e78d4b5c82" name="ab7fc41db78cb8f6c3d0ff8e78d4b5c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7fc41db78cb8f6c3d0ff8e78d4b5c82">&#9670;&nbsp;</a></span>~DbProxy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual DbProxy::~DbProxy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7bd10a3cc7e26fb8d8242b60b1d6524c" name="a7bd10a3cc7e26fb8d8242b60b1d6524c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd10a3cc7e26fb8d8242b60b1d6524c">&#9670;&nbsp;</a></span>addQueryEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DbProxy::addQueryEvent </td>
          <td>(</td>
          <td class="paramtype">DbQueryEvent *&#160;</td>
          <td class="paramname"><em>dbqe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This is invoked by THdbBasePrivate::executeQuery in the main thread. At the end, after enqueueing the event, the process request signal is emitted to tell the thread to process the event queue. </p>

</div>
</div>
<a id="a9cbc20a0efed2adac0bb00eb4c80e86b" name="a9cbc20a0efed2adac0bb00eb4c80e86b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cbc20a0efed2adac0bb00eb4c80e86b">&#9670;&nbsp;</a></span>connectionInfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DbProxy::connectionInfo </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This signal is emitted on database connection (be it successful or not) and when there is an error executing a query.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classDbProxy.html#ac206b8500fcbdca35e973ec0dd0374bd" title="this signal is emitted if exec() returns false.">databaseError</a> </dd></dl>

</div>
</div>
<a id="ac206b8500fcbdca35e973ec0dd0374bd" name="ac206b8500fcbdca35e973ec0dd0374bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac206b8500fcbdca35e973ec0dd0374bd">&#9670;&nbsp;</a></span>databaseError</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DbProxy::databaseError </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>lastErrorMessage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lastErrorMessage</td><td>the associated error message. </td></tr>
    <tr><td class="paramname">origin</td><td>the origin of the error.</td></tr>
  </table>
  </dd>
</dl>
<p>Use this signal if you have an error reporting framework suitable to accept an origin and a message parameter. If you only need a single connection information message, please see connectionInfo</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classDbProxy.html#a9cbc20a0efed2adac0bb00eb4c80e86b" title="This signal is emitted whenever something changes in the connection status.">connectionInfo</a> </dd></dl>

</div>
</div>
<a id="a3ccfee7e8d0f0cb0b2a6634c9118c4f0" name="a3ccfee7e8d0f0cb0b2a6634c9118c4f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ccfee7e8d0f0cb0b2a6634c9118c4f0">&#9670;&nbsp;</a></span>databaseIsOpen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DbProxy::databaseIsOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="classDbProxy.html#a056aa37ebbb742df6794941daafc62ea">m_sqlDb</a>.</p>

</div>
</div>
<a id="a22fa29a9e26915f3ed5e047dab8bff86" name="a22fa29a9e26915f3ed5e047dab8bff86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22fa29a9e26915f3ed5e047dab8bff86">&#9670;&nbsp;</a></span>databaseOpen</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DbProxy::databaseOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a90f579f1f5d952e97549214c88a45324" name="a90f579f1f5d952e97549214c88a45324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90f579f1f5d952e97549214c88a45324">&#9670;&nbsp;</a></span>error() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DbProxy::error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true an error is present. Get it with lastErrorMessage</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classDbProxy.html#a8b31f98a8ea7ff93a00df9a2ced8ac1c" title="returns the last connection error message.">lastErrorMessage</a> </dd></dl>

<p class="reference">References <a class="el" href="classDbProxy.html#a9214d7500cd6034d32e23dffa86a99b4">m_dbError</a>.</p>

</div>
</div>
<a id="a86f2f0e45663e6dff532d299a189f72d" name="a86f2f0e45663e6dff532d299a189f72d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f2f0e45663e6dff532d299a189f72d">&#9670;&nbsp;</a></span>error <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DbProxy::error </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4f28994d865a79a7a5596e5620d9fd84" name="a4f28994d865a79a7a5596e5620d9fd84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f28994d865a79a7a5596e5620d9fd84">&#9670;&nbsp;</a></span>exitLoop</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DbProxy::exitLoop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad16325da75d08d1fc9ad84343dc8912c" name="ad16325da75d08d1fc9ad84343dc8912c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16325da75d08d1fc9ad84343dc8912c">&#9670;&nbsp;</a></span>instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classDbProxy.html">DbProxy</a> * DbProxy::instance </td>
          <td>(</td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Should you ever directly use this thread, remember to wait() on it when opportune.</p>
<p >On first instance invocation, a new thread is started and it executes its event loop waiting for DbQueryEvent events. </p>
<p ><b>Note</b>: you shouldn't need to use this class directly. Instead see <a class="el" href="classTHdbBase.html" title="THdbBase is the base class to interact with or derive from to connect to a MySql database and execute...">THdbBase</a>, <a class="el" href="classTHdb.html" title="A facade to the Historical Database management classes.">THdb</a>, <a class="el" href="classDbQueryInterface.html" title="Derive from this class to perform threaded queries on a database.">DbQueryInterface</a> classes. </p>
<p >The thread exits when QCoreApplication emits the <b>aboutToQuit</b> signal, so that you needn't worry about the thread exit. Instead, wait() must be called if you do not rely on <a class="el" href="classTHdbBase.html" title="THdbBase is the base class to interact with or derive from to connect to a MySql database and execute...">THdbBase</a> class in your application. </p>

</div>
</div>
<a id="a8b31f98a8ea7ff93a00df9a2ced8ac1c" name="a8b31f98a8ea7ff93a00df9a2ced8ac1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b31f98a8ea7ff93a00df9a2ced8ac1c">&#9670;&nbsp;</a></span>lastErrorMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString DbProxy::lastErrorMessage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the last <b>connection</b> error message.</dd></dl>
<h3>Note</h3>
<p >This does not contain the last query execution error message. <br  />
 databaseError and connectionInfo <b>signals</b> have to be used to receive error notifications on query exec().</p>
<h3>Another note</h3>
<p >THdbBasePrivate manages signals emitted by this class. </p><dl class="section see"><dt>See also</dt><dd>THdbBasePrivate constructor </dd></dl>

<p class="reference">References <a class="el" href="classDbProxy.html#a5e83f79b9ee2b0dcf7563e73936eff36">m_lastErrorMessage</a>.</p>

</div>
</div>
<a id="a19ada2ac7aaf21fa9d1709992ed05818" name="a19ada2ac7aaf21fa9d1709992ed05818"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ada2ac7aaf21fa9d1709992ed05818">&#9670;&nbsp;</a></span>processRequest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DbProxy::processRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa0e8c59abb8a5fa28d19ce731c1ed615" name="aa0e8c59abb8a5fa28d19ce731c1ed615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0e8c59abb8a5fa28d19ce731c1ed615">&#9670;&nbsp;</a></span>queryExecuted</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DbProxy::queryExecuted </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af494547b4c4fc704a8deb3522e50d022" name="af494547b4c4fc704a8deb3522e50d022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af494547b4c4fc704a8deb3522e50d022">&#9670;&nbsp;</a></span>querySent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DbProxy::querySent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac2d268989261b2654e20cefaed682282" name="ac2d268989261b2654e20cefaed682282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2d268989261b2654e20cefaed682282">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void DbProxy::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<ul>
<li>
initiates the QSqlDatabase by calling addDatabase with QMYSQL as parameter; </li>
<li>
creates an exit loop timer to exit the thread when QCoreApplication::instance() emits the aboutToQuit signal; </li>
<li>
creates a processTimer to empty the queue just when the thread starts running (events might have been accumulated); </li>
<li>
creates a queued connection to manage query and other event execution. </li>
<li>
<p class="startli">Calls exec to start the event loop of the thread.</p>
<p class="endli"></p>
</li>
</ul>

</div>
</div>
<a id="a197fc3ee4550d94bc34b44ccdc1bb78d" name="a197fc3ee4550d94bc34b44ccdc1bb78d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a197fc3ee4550d94bc34b44ccdc1bb78d">&#9670;&nbsp;</a></span>setDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DbProxy::setDatabase </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDbConnectionParams.html">DbConnectionParams</a> &amp;&#160;</td>
          <td class="paramname"><em>dbconPar</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Enqueues a SwitchDatabaseEvent on the event queue so that the current connection is closed and a new one is opened according to the parameters.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classDbConnectionParams.html" title="this class contains the parameters that define a connection to a MySql database.">DbConnectionParams</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9214d7500cd6034d32e23dffa86a99b4" name="a9214d7500cd6034d32e23dffa86a99b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9214d7500cd6034d32e23dffa86a99b4">&#9670;&nbsp;</a></span>m_dbError</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DbProxy::m_dbError</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classDbProxy.html#a90f579f1f5d952e97549214c88a45324">error()</a>.</p>

</div>
</div>
<a id="a2cb1b57f98827f43ccd7dbd0dbd0cbfe" name="a2cb1b57f98827f43ccd7dbd0dbd0cbfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cb1b57f98827f43ccd7dbd0dbd0cbfe">&#9670;&nbsp;</a></span>m_host</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString DbProxy::m_host</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5e83f79b9ee2b0dcf7563e73936eff36" name="a5e83f79b9ee2b0dcf7563e73936eff36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e83f79b9ee2b0dcf7563e73936eff36">&#9670;&nbsp;</a></span>m_lastErrorMessage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString DbProxy::m_lastErrorMessage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classDbProxy.html#a8b31f98a8ea7ff93a00df9a2ced8ac1c">lastErrorMessage()</a>.</p>

</div>
</div>
<a id="ada0b68e4560704cc71081bff6a5adc5f" name="ada0b68e4560704cc71081bff6a5adc5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada0b68e4560704cc71081bff6a5adc5f">&#9670;&nbsp;</a></span>m_pass</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString DbProxy::m_pass</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abdb769b7d86f6e15d32c14265b70691c" name="abdb769b7d86f6e15d32c14265b70691c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdb769b7d86f6e15d32c14265b70691c">&#9670;&nbsp;</a></span>m_port</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short DbProxy::m_port</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8aa22129209a0eeaf26f758c45dc78e8" name="a8aa22129209a0eeaf26f758c45dc78e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aa22129209a0eeaf26f758c45dc78e8">&#9670;&nbsp;</a></span>m_schema</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString DbProxy::m_schema</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a056aa37ebbb742df6794941daafc62ea" name="a056aa37ebbb742df6794941daafc62ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a056aa37ebbb742df6794941daafc62ea">&#9670;&nbsp;</a></span>m_sqlDb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSqlDatabase DbProxy::m_sqlDb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classDbProxy.html#a3ccfee7e8d0f0cb0b2a6634c9118c4f0">databaseIsOpen()</a>.</p>

</div>
</div>
<a id="a5a84077145cc1232c6fc3039552ae196" name="a5a84077145cc1232c6fc3039552ae196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a84077145cc1232c6fc3039552ae196">&#9670;&nbsp;</a></span>m_user</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString DbProxy::m_user</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="dbproxy_8h_source.html">dbproxy.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
